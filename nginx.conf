server {
    listen 8080;
    server_name localhost;

    # UBI Nginx serves from /opt/app-root/src by default
    root /opt/app-root/src;
    index index.html index.htm;

    # CRITICAL: This line allows the browser to run your JS
    include /etc/nginx/mime.types;
    
    location / {
        # This fixes the 404 error on page refresh
        try_files $uri $uri/ /index.html;
    }

    # Optional: Cache static assets
    location ~* \.(?:css|js|jpg|svg|png|ico|woff2)$ {
        expires 7d;
        add_header Cache-Control "public";
    }
}
